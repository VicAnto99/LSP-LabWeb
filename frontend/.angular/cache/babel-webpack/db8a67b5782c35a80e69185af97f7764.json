{"ast":null,"code":"import { Pelicula } from 'src/app/models/pelicula';\nimport { PeliculaService } from 'src/app/services/pelicula.service';\nimport { ProveedorService } from 'src/app/services/proveedor.service';\nimport * as XLSX from 'xlsx';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/services/pelicula.service\";\nimport * as i2 from \"src/app/services/proveedor.service\";\nimport * as i3 from \"@angular/forms\";\nimport * as i4 from \"@angular/common\";\nimport * as i5 from \"@angular/router\";\n\nfunction PeliculasComponent_option_89_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 56);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const pro_r8 = ctx.$implicit;\n    i0.ɵɵproperty(\"value\", pro_r8.nombre);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(pro_r8.nombre);\n  }\n}\n\nfunction PeliculasComponent_tr_120_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r11 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"tr\");\n    i0.ɵɵelementStart(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"td\");\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"td\");\n    i0.ɵɵelementStart(10, \"a\", 57);\n    i0.ɵɵlistener(\"click\", function PeliculasComponent_tr_120_Template_a_click_10_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r11);\n      const pelicula_r9 = restoredCtx.$implicit;\n      const ctx_r10 = i0.ɵɵnextContext();\n      return ctx_r10.editPelicula(pelicula_r9);\n    });\n    i0.ɵɵelementStart(11, \"i\", 58);\n    i0.ɵɵtext(12, \"edit\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"a\", 57);\n    i0.ɵɵlistener(\"click\", function PeliculasComponent_tr_120_Template_a_click_13_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r11);\n      const pelicula_r9 = restoredCtx.$implicit;\n      const ctx_r12 = i0.ɵɵnextContext();\n      return ctx_r12.deletePelicula(pelicula_r9._id);\n    });\n    i0.ɵɵelementStart(14, \"i\", 58);\n    i0.ɵɵtext(15, \"delete\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const pelicula_r9 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(pelicula_r9.tipo);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(pelicula_r9.medida);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(pelicula_r9.provedor);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(pelicula_r9.unidades);\n  }\n}\n\nexport let PeliculasComponent = /*#__PURE__*/(() => {\n  class PeliculasComponent {\n    constructor(peliculaService, proovedorService) {\n      this.peliculaService = peliculaService;\n      this.proovedorService = proovedorService;\n      this.fileName = 'Excel_Peliculas.xlsx';\n    }\n\n    ngOnInit() {\n      this.getPeliculas();\n      this.getProveedores();\n    }\n\n    exportexcel() {\n      let element = document.getElementById('excel-table');\n      const ws = XLSX.utils.table_to_sheet(element);\n      const wb = XLSX.utils.book_new();\n      XLSX.utils.book_append_sheet(wb, ws, 'Sheet1');\n      XLSX.writeFile(wb, this.fileName);\n    }\n\n    addPelicula(form) {\n      if (form.value._id) {\n        this.peliculaService.putPelicula(form.value).subscribe(res => {\n          this.resetForm(form);\n          M.toast({\n            html: 'Pelicula modificada! :)'\n          });\n          this.getPeliculas();\n        });\n      } else {\n        this.peliculaService.postPelicula(form.value).subscribe(res => {\n          this.resetForm(form);\n          M.toast({\n            html: 'Pelicula creada! :)'\n          });\n          this.getPeliculas();\n        });\n      }\n    }\n\n    getPeliculas() {\n      this.peliculaService.getPeliculas().subscribe(res => {\n        this.peliculaService.peliculas = res;\n        console.log(res);\n      });\n    }\n\n    getProveedores() {\n      this.proovedorService.getProveedores().subscribe(res => {\n        this.proovedorService.proveedores = res;\n        console.log(res);\n      });\n    }\n\n    editPelicula(pelicula) {\n      this.peliculaService.selectedPelicula = pelicula;\n    }\n\n    deletePelicula(_id) {\n      if (confirm('¿Estás seguro que quieres eliminarla?')) {\n        this.peliculaService.deletePelicula(_id).subscribe(res => {\n          this.getPeliculas();\n          M.toast({\n            html: 'Pelicula eliminada correctamente!'\n          });\n        });\n      }\n    }\n\n    resetForm(form) {\n      if (form) {\n        form.reset();\n        this.peliculaService.selectedPelicula = new Pelicula();\n      }\n    }\n\n  }\n\n  PeliculasComponent.ɵfac = function PeliculasComponent_Factory(t) {\n    return new (t || PeliculasComponent)(i0.ɵɵdirectiveInject(i1.PeliculaService), i0.ɵɵdirectiveInject(i2.ProveedorService));\n  };\n\n  PeliculasComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: PeliculasComponent,\n    selectors: [[\"app-peliculas\"]],\n    features: [i0.ɵɵProvidersFeature([PeliculaService, ProveedorService])],\n    decls: 121,\n    vars: 7,\n    consts: [[1, \"container\"], [1, \"col\", \"s12\", \"center\", \"title\"], [1, \"z-depth-2\"], [1, \"row\"], [1, \"col\", \"s7\"], [1, \"col\", \"s5\"], [2, \"cursor\", \"pointer\", 3, \"click\"], [1, \"material-icons\", \"prefix\"], [1, \"card\"], [1, \"card-content\"], [1, \"card-title\", \"center\"], [3, \"ngSubmit\"], [\"peliculaForm\", \"ngForm\"], [\"type\", \"hidden\", \"name\", \"_id\", 3, \"ngModel\", \"ngModelChange\"], [\"_id\", \"ngModel\"], [1, \"input-field\", \"col\", \"s12\"], [\"id\", \"tipo\", \"name\", \"tipo\", 1, \"browser-default\", \"validate\", 2, \"width\", \"90%\", \"margin-left\", \"12%\", 3, \"ngModel\", \"ngModelChange\"], [\"tipo\", \"ngModel\"], [\"value\", \"\", \"disabled\", \"\", \"selected\", \"\"], [\"value\", \"Brillante\"], [\"value\", \"Holograma\"], [\"value\", \"Mate\"], [\"value\", \"Metalizado Plata\"], [\"value\", \"Soft Touch\"], [\"id\", \"medida\", \"name\", \"medida\", 1, \"browser-default\", \"validate\", 2, \"width\", \"90%\", \"margin-left\", \"12%\", 3, \"ngModel\", \"ngModelChange\"], [\"medida\", \"ngModel\"], [\"value\", \"28 cm\"], [\"value\", \"30 cm\"], [\"value\", \"32 cm\"], [\"value\", \"34 cm\"], [\"value\", \"36.5 cm\"], [\"value\", \"40 cm\"], [\"value\", \"44.5 cm\"], [\"value\", \"47 cm\"], [\"value\", \"50.5 cm\"], [\"value\", \"52 cm\"], [\"value\", \"55 cm\"], [\"value\", \"57 cm\"], [\"value\", \"59 cm\"], [\"value\", \"61 cm\"], [\"value\", \"62 cm\"], [\"value\", \"65 cm\"], [\"value\", \"70 cm\"], [\"value\", \"72 cm\"], [\"id\", \"provedor\", \"name\", \"provedor\", 1, \"browser-default\", \"validate\", 2, \"width\", \"90%\", \"margin-left\", \"12%\", 3, \"ngModel\", \"ngModelChange\"], [\"provedor\", \"ngModel\"], [3, \"value\", 4, \"ngFor\", \"ngForOf\"], [\"routerLink\", \"/proveedor\", 1, \"waves-effect\", \"#90caf9\", \"blue\", \"lighten-3\", \"btn-small\"], [\"id\", \"unidades\", \"type\", \"number\", \"name\", \"unidades\", 1, \"validate\", 3, \"ngModel\", \"ngModelChange\"], [\"unidades\", \"ngModel\"], [\"for\", \"unidades\"], [1, \"card-action\"], [1, \"btn\", \"#90caf9\", \"blue\", \"lighten-3\", 3, \"click\"], [1, \"btn\", \"right\", \"#90caf9\", \"blue\", \"lighten-3\"], [\"id\", \"excel-table\"], [4, \"ngFor\", \"ngForOf\"], [3, \"value\"], [3, \"click\"], [1, \"material-icons\"]],\n    template: function PeliculasComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        const _r13 = i0.ɵɵgetCurrentView();\n\n        i0.ɵɵelementStart(0, \"div\", 0);\n        i0.ɵɵelementStart(1, \"div\", 1);\n        i0.ɵɵelementStart(2, \"h4\", 2);\n        i0.ɵɵtext(3, \"Material\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(4, \"div\", 3);\n        i0.ɵɵelement(5, \"div\", 4);\n        i0.ɵɵelementStart(6, \"div\", 5);\n        i0.ɵɵelementStart(7, \"a\", 6);\n        i0.ɵɵlistener(\"click\", function PeliculasComponent_Template_a_click_7_listener() {\n          return ctx.exportexcel();\n        });\n        i0.ɵɵtext(8, \" Pasar a excel\");\n        i0.ɵɵelementStart(9, \"i\", 7);\n        i0.ɵɵtext(10, \"file_download\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(11, \"div\", 3);\n        i0.ɵɵelementStart(12, \"div\", 5);\n        i0.ɵɵelementStart(13, \"div\", 8);\n        i0.ɵɵelementStart(14, \"div\", 9);\n        i0.ɵɵelementStart(15, \"span\", 10);\n        i0.ɵɵtext(16, \"Formulario para el material\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(17, \"form\", 11, 12);\n        i0.ɵɵlistener(\"ngSubmit\", function PeliculasComponent_Template_form_ngSubmit_17_listener() {\n          i0.ɵɵrestoreView(_r13);\n\n          const _r0 = i0.ɵɵreference(18);\n\n          return ctx.addPelicula(_r0);\n        });\n        i0.ɵɵelementStart(19, \"input\", 13, 14);\n        i0.ɵɵlistener(\"ngModelChange\", function PeliculasComponent_Template_input_ngModelChange_19_listener($event) {\n          return ctx.peliculaService.selectedPelicula._id = $event;\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(21, \"div\", 3);\n        i0.ɵɵelementStart(22, \"div\", 15);\n        i0.ɵɵelementStart(23, \"i\", 7);\n        i0.ɵɵtext(24, \"style\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(25, \"select\", 16, 17);\n        i0.ɵɵlistener(\"ngModelChange\", function PeliculasComponent_Template_select_ngModelChange_25_listener($event) {\n          return ctx.peliculaService.selectedPelicula.tipo = $event;\n        });\n        i0.ɵɵelementStart(27, \"option\", 18);\n        i0.ɵɵtext(28, \"Tipo*\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(29, \"option\", 19);\n        i0.ɵɵtext(30, \"Brillante\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(31, \"option\", 20);\n        i0.ɵɵtext(32, \"Holograma\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(33, \"option\", 21);\n        i0.ɵɵtext(34, \"Mate\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(35, \"option\", 22);\n        i0.ɵɵtext(36, \"Metalizado Plata\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(37, \"option\", 23);\n        i0.ɵɵtext(38, \"Soft Touch\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(39, \"div\", 15);\n        i0.ɵɵelementStart(40, \"i\", 7);\n        i0.ɵɵtext(41, \"photo_size_select_small\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(42, \"select\", 24, 25);\n        i0.ɵɵlistener(\"ngModelChange\", function PeliculasComponent_Template_select_ngModelChange_42_listener($event) {\n          return ctx.peliculaService.selectedPelicula.medida = $event;\n        });\n        i0.ɵɵelementStart(44, \"option\", 18);\n        i0.ɵɵtext(45, \"Medida*\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(46, \"option\", 26);\n        i0.ɵɵtext(47, \"28 cm\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(48, \"option\", 27);\n        i0.ɵɵtext(49, \"30 cm\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(50, \"option\", 28);\n        i0.ɵɵtext(51, \"32 cm\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(52, \"option\", 29);\n        i0.ɵɵtext(53, \"34 cm\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(54, \"option\", 30);\n        i0.ɵɵtext(55, \"36.5 cm\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(56, \"option\", 31);\n        i0.ɵɵtext(57, \"40 cm\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(58, \"option\", 32);\n        i0.ɵɵtext(59, \"44.5 cm\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(60, \"option\", 33);\n        i0.ɵɵtext(61, \"47 cm\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(62, \"option\", 34);\n        i0.ɵɵtext(63, \"50.5 cm\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(64, \"option\", 35);\n        i0.ɵɵtext(65, \"52 cm\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(66, \"option\", 36);\n        i0.ɵɵtext(67, \"55 cm\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(68, \"option\", 37);\n        i0.ɵɵtext(69, \"57 cm\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(70, \"option\", 38);\n        i0.ɵɵtext(71, \"59 cm\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(72, \"option\", 39);\n        i0.ɵɵtext(73, \"61 cm\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(74, \"option\", 40);\n        i0.ɵɵtext(75, \"62 cm\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(76, \"option\", 41);\n        i0.ɵɵtext(77, \"65 cm\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(78, \"option\", 42);\n        i0.ɵɵtext(79, \"70 cm\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(80, \"option\", 43);\n        i0.ɵɵtext(81, \"72 cm\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(82, \"div\", 15);\n        i0.ɵɵelementStart(83, \"i\", 7);\n        i0.ɵɵtext(84, \"local_grocery_store\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(85, \"select\", 44, 45);\n        i0.ɵɵlistener(\"ngModelChange\", function PeliculasComponent_Template_select_ngModelChange_85_listener($event) {\n          return ctx.peliculaService.selectedPelicula.provedor = $event;\n        });\n        i0.ɵɵelementStart(87, \"option\", 18);\n        i0.ɵɵtext(88, \"Proveedor*\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(89, PeliculasComponent_option_89_Template, 2, 2, \"option\", 46);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(90, \"br\");\n        i0.ɵɵelementStart(91, \"a\", 47);\n        i0.ɵɵtext(92, \"Crear nuevo proovedor\");\n        i0.ɵɵelementStart(93, \"i\", 7);\n        i0.ɵɵtext(94, \"person_add\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(95, \"div\", 15);\n        i0.ɵɵelementStart(96, \"i\", 7);\n        i0.ɵɵtext(97, \"format_list_numbered\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(98, \"input\", 48, 49);\n        i0.ɵɵlistener(\"ngModelChange\", function PeliculasComponent_Template_input_ngModelChange_98_listener($event) {\n          return ctx.peliculaService.selectedPelicula.unidades = $event;\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(100, \"label\", 50);\n        i0.ɵɵtext(101, \"Unidades*\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(102, \"div\", 51);\n        i0.ɵɵelementStart(103, \"div\", 15);\n        i0.ɵɵelementStart(104, \"button\", 52);\n        i0.ɵɵlistener(\"click\", function PeliculasComponent_Template_button_click_104_listener() {\n          i0.ɵɵrestoreView(_r13);\n\n          const _r0 = i0.ɵɵreference(18);\n\n          return ctx.resetForm(_r0);\n        });\n        i0.ɵɵtext(105, \"Limpiar\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(106, \"button\", 53);\n        i0.ɵɵtext(107, \"Enviar\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(108, \"div\", 4);\n        i0.ɵɵelementStart(109, \"table\", 54);\n        i0.ɵɵelementStart(110, \"thead\");\n        i0.ɵɵelementStart(111, \"th\");\n        i0.ɵɵtext(112, \"Tipo\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(113, \"th\");\n        i0.ɵɵtext(114, \"Medida\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(115, \"th\");\n        i0.ɵɵtext(116, \"Proveedor\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(117, \"th\");\n        i0.ɵɵtext(118, \"Unidades\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(119, \"tbody\");\n        i0.ɵɵtemplate(120, PeliculasComponent_tr_120_Template, 16, 4, \"tr\", 55);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n      }\n\n      if (rf & 2) {\n        i0.ɵɵadvance(19);\n        i0.ɵɵproperty(\"ngModel\", ctx.peliculaService.selectedPelicula._id);\n        i0.ɵɵadvance(6);\n        i0.ɵɵproperty(\"ngModel\", ctx.peliculaService.selectedPelicula.tipo);\n        i0.ɵɵadvance(17);\n        i0.ɵɵproperty(\"ngModel\", ctx.peliculaService.selectedPelicula.medida);\n        i0.ɵɵadvance(43);\n        i0.ɵɵproperty(\"ngModel\", ctx.peliculaService.selectedPelicula.provedor);\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"ngForOf\", ctx.proovedorService.proveedores);\n        i0.ɵɵadvance(9);\n        i0.ɵɵproperty(\"ngModel\", ctx.peliculaService.selectedPelicula.unidades);\n        i0.ɵɵadvance(22);\n        i0.ɵɵproperty(\"ngForOf\", ctx.peliculaService.peliculas);\n      }\n    },\n    directives: [i3.ɵNgNoValidate, i3.NgControlStatusGroup, i3.NgForm, i3.DefaultValueAccessor, i3.NgControlStatus, i3.NgModel, i3.SelectControlValueAccessor, i3.NgSelectOption, i3.ɵNgSelectMultipleOption, i4.NgForOf, i5.RouterLinkWithHref, i3.NumberValueAccessor],\n    styles: [\"@keyframes slideInFromLeft{0%{transform:translate(-100%)}to{transform:translate(0)}}@keyframes slideInFromRight{0%{transform:translate(100%)}to{transform:translate(0)}}@keyframes slideInFromBottom{0%{transform:translateY(100%)}to{transform:translate(0)}}@keyframes slideInFromTop{0%{transform:translateY(-100%)}to{transform:translate(0)}}\"]\n  });\n  return PeliculasComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}